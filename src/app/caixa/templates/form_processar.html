{% extends "base.html" %}
{% block content %}
  <div class="section-header">    
    <div class="section-header-breadcrumb">
      <div class="breadcrumb-item active"><a href="/caixa">CAIXA</a></div>
      <div class="breadcrumb-item">FORMULÁRIO</div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card">
          <div class="card-header">
            <h4>PROCESSAR CONTA</h4>
          </div>
          <div class="card-body">
            {% set conta_data = conta_data[0] %}
            
            
            <form method="POST" action="/conta/processar"> 
                <div class="card-body">
                    <div class="row">                        
                        <input type="hidden" name="conta_id" value="{{ conta_data['id'] }}" maxlength="255" class="form-control">
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>PESSOA</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="pessoa" disabled value="{{ conta_data['pessoa']['name'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>DOCUMENTO</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="documento_tipo" disabled value="{{ conta_data['documento_tipo']['description'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>PAGAMENTO</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="pagamento_tipo" disabled value="{{ conta_data['pagamento_tipo']['description'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>VALOR DA PARCELA</label>
                          <input type="number" name="valor_parcela" disabled value="{{ conta_data['valor_parcela'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>CATEGORIA</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="categoria" disabled value="{{ conta_data['categoria']['description'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-2">
                          <label>DATA VENCIMENTO</label>
                          <input type="date" name="data_vencimento" disabled value="{{ conta_data['data_vencimento'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-12">
                          <label>OBSERVAÇÃO</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="observation" disabled value="{{ conta_data['observation'] }}" maxlength="255" class="form-control">
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-12">
                          <hr>
                        </div>
                        <div class="col-sm-12 col-md-12 col-lg-3">
                          <div class="row">
                            <label>CAIXA</label>
                            <select id="caixa_id" name="caixa_id" class="form-control select2  ">
                              {% for caixa in caixa_data %}
                              {% if(conta_data["caixa_id"]) == caixa['id'] %}                                                                         
                              <option selected value="{{ caixa['id'] }}">{{caixa['description']}}</option>
                              {% else %}  
                              <option  value="{{ caixa['id'] }}">{{caixa['description']}}</option>
                              {% endif %}
                              {% endfor %}
                            </select>
                          </div>
                        </div>
                        <div class="form-group col-sm-12  col-md-12 col-lg-3">
                          <label>VALOR PAGO</label>
                          <input type="number" name="valor_pago" value=" " maxlength="20" class="form-control">
                        </div>
                        
                        <div class="form-group col-sm-12 col-md-12 col-lg-3  ">
                          <label>DATA PAGAMENTO</label>
                          <input type="date" name="data_pagamento" value="{{data_current}}" class="form-control">
                        </div>
                        
                        
                        <div class="form-group  col-sm-12 col-md-12 col-lg-3">
                          <div class="row">
                            <label>EMPRESA</label>
                            <select id="empresa_id" name="empresa_id" class="form-control  select2  ">
                              {% for empresa in empresa_data %}
                                {% if(conta_data["empresa_id"]) == empresa['id'] %}                                                                         
                                  <option selected value="{{ empresa['id'] }}">{{empresa['name_fantasy']}}</option>
                                {% else %}  
                                  <option  value="{{ empresa['id'] }}">{{empresa['name_fantasy']}}</option>
                                {% endif %}
                              {% endfor %}
                            </select>
                          </div>
                        </div>

                        <div class="form-group col-sm-12 col-md-12 col-lg-3">
                          <div class="row">
                            <label>STATUS</label>
                            <select name="status_id" class="form-control select2 ">
                              {% for status in status_data %}
                                {% if 2 == status['id'] %}                                                                         
                                  <option selected value="{{status['id']}}">{{status['description']}}</option>
                                {% else %}  
                                  <option  value="{{status['id']}}">{{status['description']}}</option>
                                {% endif %}
                              {% endfor %}
                            </select>
                          </div>
                        </div>

                        <div class="form-group col-sm-12 col-md-12 col-lg-9">
                          <label>OBSERVAÇÃO</label>
                          <input type="text" oninput="let p=this.selectionStart;this.value=this.value.toUpperCase();this.setSelectionRange(p, p);" name="onservation" value="" maxlength="255" class="form-control">
                        </div>
                        
                    </div>
                </div>
                
                <div class="card-footer text-right">
                  <button class="btn btn-primary mr-1" type="submit">Salvar</button>
                  <a href="/conta" class="btn btn-danger" type="reset">Cancelar</a>
                </div>
              </div>
            </form>                    
          </div>
      </div> 
    </div>
  </div>
{% endblock %}
